" .ideavimrc is a configuration file for IdeaVim plugin. It uses
"   the same commands as the original .vimrc configuration.
" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc

" UI/UX
set scrolloff=5
set autoindent
set number
set showcmd
set showmode
set visualbell
set noerrorbells
nmap <leader>uw <Action>(EditorToggleUseSoftWraps)

" search
set hlsearch
set incsearch
set ignorecase
set smartcase
nmap <leader>nh :nohlsearch<CR>

let mapleader=" "
let g:mapleader=" "

" idea
set ideajoin

" find
nmap <leader>fa <Action>(SearchEverywhere)
nmap <leader>ff <Action>(GotoFile)
nmap <leader>fc <Action>(GotoClass)
nmap <leader>fr <Action>(RecentFiles)
nmap <leader>fw <Action>(FindInPath)
nmap <leader>fb <Action>(Switcher)

" code jump
nmap gd <Action>(GotoSuperMethod)
nmap gD <Action>(GotoDeclaration)
nmap gy <Action>(GotoTypeDeclaration)
nmap gri <Action>(GotoImplementation)
nmap grr <Action>(FindUsages)
nmap <leader>lR <Action>(FindUsages)
nmap [d <Action>(GotoPreviousError)
nmap ]d <Action>(GotoNextError)
map <leader>j <Action>(AceAction)
map <leader>k <Action>(AceLineAction)

" editing
nmap <leader>/ <Action>(CommentByLineComment)
vmap <leader>/ <Action>(CommentByLineComment)<ESC>
nmap gco o<Action>(CommentByLineComment)<ESC>
nmap gcO O<Action>(CommentByLineComment)<ESC>

nmap <leader>lf <Action>(ReformatCode)
vmap <leader>lf <Action>(ReformatCode)<ESC>
nmap <leader>lr <Action>(RenameElement)

nmap K <Action>(ShowHoverInfo)

" git operation
nmap <leader>gt <Action>(ActivateCommitToolWindow)
nmap <leader>gC <Action>(Vcs.ShowTabbedFileHistory)
nmap <leader>gr <Action>(Vcs.RollbackChangedLines)
nmap <leader>gR <Action>(ChangesView.Revert)
nmap <leader>gl <Action>(Annotate)

" tabs
nmap [b <Action>(PreviousTab)
nmap ]b <Action>(NextTab)
nmap <leader>bc <Action>(CloseAllEditorsButActive)
nmap <leader>bC <Action>(CloseAllEditors)
nmap <leader>bl <Action>(CloseAllToTheLeft)
nmap <leader>br <Action>(CloseAllToTheRight)
nmap <leader>c <Action>(CloseContent)
nmap <M-k> <action>(StretchSplitToTop)
nmap <M-j> <action>(StretchSplitToBottom)
nmap <M-l> <action>(StretchSplitToRight)
nmap <M-h> <action>(StretchSplitToLeft)

" panels
nmap <C-h> <C-w>h
nmap <C-l> <C-w>l
nmap <C-k> <C-w>k
nmap <C-j> <C-w>j

nmap _ <Action>(SplitHorizontally)
" <Bar> is actually |
nmap <Bar> <Action>(SplitVertically)

" debug
nmap <leader>dc <Action>(Debug)
nmap <leader>dq <Action>(Stop)
nmap <leader>db <Action>(ToggleLineBreakpoint)
nmap <leader>do <Action>(StepOver)
nmap <leader>di <Action>(StepInto)
nmap <leader>dO <Action>(StepOut)
nmap <leader>dE <Action>(EvaluateExpression)

" plugins
Plug 'justinmk/vim-sneak'
Plug 'preservim/nerdtree'
nmap <leader>e :NERDTreeToggle<CR>

set keep-english-in-normal
set which-key
set notimeout
set sneak
set peekaboo
set surround
set commentary
set highlightedyank

let g:WhichKey_ShowVimActions = "true"
